В цьому файлі представлено алгоритм поведінки користувачів сайту (підрядників)

*User Flow - Підрядник - Початок*

Фреймворк — серверний рендеринг на Go з Tabler UI (HTML + TailwindCSS).

**Головні вимоги:**

1. **Лендінг (`/`)**
- Сторінка з описом переваг, прикладами інтерфейсу, відгуками.
- Кнопки "Логін" і "Спробувати безкоштовно".

2. **Логін/Реєстрація (`/login`, `/register`)**
- Підтримка авторизації: email/пароль, Google, Apple, Facebook.
- Після входу — редірект на `/app`.

3. **Дашборд (`/app`)**
- **Sidebar меню, зліва в брендовому кольорі:**
  - Дашборд
  - Календар
  - Бронювання
  - Сховище
  - Команда
  - Клієнти
  - Контракти
  - Фінанси
  - Price List
  - Налаштування
- **Header:**
  - Пошук
  - Ім’я користувача / профіль / вихід
- **Основна зона з віджетами (Tabler Cards з переходом у відповідний розділ при натисканні):**
  - ToDo List — список задач (макс. 3, кнопка "всі задачі")
  - Найближча зйомка
  - Кількість бронювань у поточному році
  - Незавершені проєкти
  - Фінансове зведення:
    - Дохід цього року
    - Прибуток
    - Залишок від клієнтів
  - Нагадування ("через 3 дні дедлайн для проєкту…")
  - Міні-календар з позначками заброньованих днів
  - Знизу по центру кнопка [ + ] "Додати бронювання"


*User Flow - Підрядник - Бронювання*

/bookings
Ця сторінка — таблиця з усіма бронюваннями підрядника за поточний рік.

**Фреймворк:**
- Серверний рендеринг (Go templates)
- Таблиця на базі Tabler UI
- Стилизація через TailwindCSS
- Шрифт: Inter

**Структура таблиці:**
Колонки:
- Дата події (clickable — редирект на `/bookings/:id`)
- Пакет послуг (Mini, Standard, Premium тощо, з можливістю редагування випадаючим списком)
- Загальна вартість
- Клієнт (Instagram, якщо немає, то імʼя)
- Статус (з можливістю редагування випадаючим списком):
  - Очікую завдаток
  - Заброньовано
  - В роботі
  - Готово
- Команда (імена)
- Коментар (таймінг, ключові нотатки)
- Диск зберігання (необовʼязково)
- Фінансова інформація- Завдаток, Кошти на команду, Додаткові витрати, Чистий прибуток, Залишилось отримати (можна додати будь-який пункт з бронювань)

**Інтерактивність:**
- Клік по даті → редирект на сторінку бронювання
- Пряме редагування всіх інших полів: статус, пакет, команда, фінанси (inline editing якщо підтримується Tabler)
- В кінці кожного рядка — кнопка "видалити" (з підтвердженням)

**Фільтри:**
- Рік (випадаючий список). За замовчуванням — поточний рік.

**Додатково:**
- Кнопка [+ Додати бронювання] — у верхній частині сторінки
- Підтримка сортування по даті (дефолтно), статусу, вартості — якщо підтримується Tabler
- Таблиця адаптивна: для мобільної версії частина колонок може ховатись або переходити в "card mode"
- Можливість зробити таблицю інтуїтивно зрозумілою кольорами (наприклад якщо подія не не відбулась, то білий колір рядка, якщо відзнята і в роботі, то жовта, якщо вже готово то зеленим, просрочений дедлайн червоним, але кольора пастельні, приємні)


*User Flow - Підрядник - Форма Бронювання*

/bookings/:id

**Основні блоки форми:**

1. **Основне**
- Дата події (input type="date")
- Пакет послуг (select з попередньо створених пакетів)
  → Автоматично підставляються значення в полях:
    - Загальна вартість
    - Завдаток
    - Кошти на команду
    - Тип матеріалів
- Тип події (select): Весілля, Вінчання, Розпис, Лавсторі, Корпоратив, Інше
- Локація (text input)
- Команда (Оператори, монтажери, ретушери, менеджери) — multi-select
- Коментар (textarea) — таймінг, ведучий, координатор тощо

2. **Клієнт**
- Ім’я
- Телефон
- Email
- Instagram
- Коментар про клієнта 

3. **Фінанси**
- Вибір валюти (usd, uah, eur)
- Загальна вартість (input)
- Завдаток (input)
- Кошти на команду (окрема сума для кожного члена команди) (input)
- Додаткові витрати (input)
- Чистий прибуток (рахується автоматично)
- Кошти, які залишились (автоматично: загальна - завдаток - інше)
- Статус оплати: (select: оплачено / частково / не оплачено)

4. **Додатково**
- Дата дедлайну (автоматично: +6 місяців від дати події, з можливістю редагування)
- Назва або код диску, де зберігається сирий матеріал
- Кнопка для завантаження готового матеріалу (фото/відео) — інтеграція з Backblaze
- Перегляд завантажених файлів: список, опція видалити
- Додавання контракту у вигляді файлу (в майбутньому — генерація)
- Публічна сторінка клієнта:
  - Якщо не згенерована — кнопка “Згенерувати”
  - Якщо вже є — активне посилання

- Кнопка “Зберегти зміни” внизу
- Кнопка “Видалити бронювання” (з підтвердженням)


*User Flow - Підрядник - Календар*

/calendar
**Функціонал календаря:**

1. **Основний вигляд:** 
   - Місячний перегляд (аналог Google Calendar або Notion)
   - В кожній клітинці відображаються бронювання (події)

2. **Відображення подій у дні:**
   - Фон клітинки змінюється на темно-бежевий — колір задається з налаштувань користувача
   - Іконка типу події (відео / фото / комбіноване)
   - Коротка назва (наприклад, “Весілля”)
   - Якщо в один день кілька подій (2–3) — групуються через стандартні можливості Tabler
   - Якщо більше 3 подій — відображається “+X” з можливістю перегляду

3. **Інтерактивність:**
   - Клік на **вільну дату** відкриває форму “створити нове бронювання”
   - Клік на **зайняту дату** — переходить на сторінку бронювання (`/bookings/:id`)
   - Кнопка [ + ] “Додати бронювання” — дублюється вгорі/внизу сторінки

4. **Вимоги до UX:**
   - **Без drag & drop** — щоб уникнути випадкових змін
   - **Без inline-редагування** — редагування тільки на повній сторінці бронювання
   - Додатково підтримати режим перегляду “Увесь рік” (12 місяців одним екраном)


*User Flow - Підрядник - Сховище*

/storage
Ця сторінка є файловим менеджером, який дозволяє переглядати, завантажувати, редагувати та видаляти файли, прив’язані до конкретних бронювань.

**Функціональність:**
- **Перегляд файлів:** Таблиця або картки з файлами, що містять:
  - Назву файлу
  - Тип (іконка)
  - Розмір
  - Прив’язка до бронювання (з посиланням)
  - Дата завантаження
- **Завантаження файлів:** Зона з можливістю перетягування файлів за допомогою компонента Dropzone від Tabler UI.
- **Редагування файлів:** Можливість перейменування файлу.
- **Видалення файлів:** Кнопка видалення з підтвердженням.
- **Використаний обсяг:** Відображення загального використаного обсягу з базовим лімітом 100 ГБ, який може змінюватися залежно від підписки.
- **Пошук:** Поле для пошуку файлів за назвою або тегами.
- **Фільтрація:** Можливість фільтрації файлів за типом або датою завантаження.

**Додатково:**
- Адаптивний дизайн для мобільних пристроїв.
- Використання іконок Tabler для відображення типів файлів.


*User Flow - Підрядник - Команда*

/team 
Цей розділ дозволяє підряднику керувати своєю командою у вигляді дашборду з картками.

**Вигляд сторінки:**
- Всі учасники команди відображаються у вигляді **карток (Tabler Cards)**.
- В кожній картці:
  - Ім’я
  - Email
  - Аватар
  - Роль (наприклад: оператор, монтажер, менеджер, інше)
  - Рівень доступу (іконки або мітки):
    - Повний доступ (усі проєкти + фінанси)
    - Лише призначені проєкти (без фінансів)
    - Лише призначені проєкти (з фінансами)
  - Чи може редагувати дані: Галочка Так / Ні
  - Кнопки: “Редагувати”, “Видалити”

**Функціонал:**
- Кнопка **[ + Додати члена команди]** у верхній частині сторінки
- При додаванні нового учасника — модальне вікно з полями:
  - Ім’я
  - Email
  - Аватар (автоматичний або завантажити квадратне фото)
  - Роль (обрати або створити нову)
  - Доступ:
    - Повний
    - Лише проєкти без фінансів
    - Лише проєкти з фінансами
  - Чи дозволено редагування: Так / Ні

**Додаткові дії:**
- Редагування існуючих учасників
- Видалення учасника (з підтвердженням)
- Повторне надсилання інвайту (email)
- Перегляд усіх проєктів, в яких людина задіяна

**UI/UX:**
- Використовуй компоненти Tabler Cards, модальні вікна, іконки
- Мобільна адаптивність


*User Flow - Підрядник - Клієнти*

/clients
Це інформаційний розділ, який показує зведені дані про всіх клієнтів, витягнуті з таблиці бронювань. Дані клієнтів не зберігаються окремо, а формуються динамічно на основі записів про бронювання.

**Функціональність:**

- Таблиця з колонками:
  - Ім’я клієнта
  - Телефон
  - Email
  - Instagram
  - Дата бронювання
  - Назва бронювання
    → При натисканні відкриває сторінку бронювання (`/bookings/:id`)

- Виводиться по одному рядку на клієнта (останнє активне бронювання)
- Дані агрегуються з існуючої таблиці `bookings`
- Всі колонки read-only (немає редагування)

- Пошук по імені, email або Instagram (Tabler Search input)
- Сортування за ім’ям або датою бронювання


*User Flow - Підрядник - Фінанси*

/finance
Це аналітична сторінка з фінансовими метриками, побудована з використанням Tabler UI, Chart.js і TailwindCSS. Серверний рендеринг: Go templates.

**Мета:** Відобразити основні фінансові метрики для підрядника в зручному і мінімалістичному вигляді.

**Блоки метрик:**

1. Загальний дохід за рік
- Відображення: велика картка (Tabler Card)
- Графік: стовпчиковий bar chart (доходи по місяцях)

2. Отримано / Залишилось отримати
- Відображення: прогрес-бар + сума в грошах
- Наприклад: "Отримано $8400 з $11200"

3. Чистий прибуток
- Розрахунок: дохід – витрати (команда + додаткові)
- Відображення: число + кольорова індикація (зелений / червоний)
- Діаграма: Pie chart (розподіл прибутку по типах подій)

4. Найприбутковіші місяці
- Відображення: bar chart (top-3 місяці)
- Підписані значення: “Липень – $3200”, “Серпень – $2700”…

5. Витрати на команду
- Відображення: таблиця або stacked bar chart
- Деталізація по ролях: оператори, монтажери, ретушери…

6. Середній чек
- Відображення: число + лінійний графік
- Додатково: % зміни порівняно з попереднім роком

**Фільтрація:**
- Перемикач року (2023 / 2024 / 2025)
- Можливість додати фільтр за типом події (опційно)

**Додатково:**
- Використовуй компоненти Tabler: Cards, Stats, Charts


*User Flow - Підрядник - Контракти*

/contracts
Це сторінка управління контрактами, прив’язаними до бронювань.

**Поточна логіка:**
- Контракти завантажуються на сторінці конкретного бронювання (`/bookings/:id`)
- На цій сторінці користувач бачить зведену таблицю всіх контрактів

**Таблиця контрактів — колонки:**
- Назва події / проєкту (із посиланням на бронювання)
- Ім’я клієнта
- Дата події
- Контракт (файл):
  - Кнопка “Переглянути” (відкриває PDF у новій вкладці)
  - Кнопка “Завантажити”
- Кнопка “Замінити файл” (оновлення контракту)
- Кнопка “Видалити контракт” (з підтвердженням)

**Функціональність:**
- Read-only перегляд
- Фільтр по імені клієнта або даті події
- У майбутньому: додавання шаблонів контрактів і можливість автоматичної генерації на основі полів бронювання

**UI:**
- Пошук: інпут над таблицею


*User Flow - Підрядник - Price List*

/price-list
Це розділ для керування шаблонами пакетів послуг, які використовуються при створенні бронювань.

**Функціональність:**
- Картки з усіма створеними пакетами
- Кнопка “Додати пакет”
- Можливість редагування/видалення пакетів
- Всі поля read-write

**Поля кожного пакету:**
- **Назва пакету** (наприклад: Standard)
- **Тип події**:
  - Випадаючий список з базовими варіантами: Весілля, Вінчання, Розпис, Лавсторі, Корпоратив
  - + можливість додати власний варіант (custom input)
- **Валюта** (select): USD, EUR, UAH
- **Загальна вартість** (input, тип number)
- **Завдаток** (input, тип number)
- **Опис / Коментар** (textarea) — що входить в пакет, наприклад: “Двокамерна відеозйомка до 14 год, SDE, Фільм 60 хв, Ролик 5 хв, флешка...”
- **Команда**:
  - Можливість вибрати конкретних людей (з доступних в системі)
  - Призначити гонорар кожному
- **Дедлайн**:
  - Можна ввести як кількість **місяців** або **днів**
  - За замовчуванням: 6 місяців

**UI/UX:**
- Компоненти: картки + форма додавання/редагування (модальне вікно або окрема сторінка)


*User Flow - Підрядник - Налаштування*

/settings
Це сторінка користувацьких налаштувань із вкладками.

**Функціональні блоки (вкладки):**

---

**1. Загальні**
- Ім’я користувача
- Email (зміна)
- Телефон (опціонально)
- Зміна паролю
- Мова інтерфейсу: UA / EN (select)
- Тема інтерфейсу: світла / темна (select або toggle)
- Валюта за замовчуванням: UAH / USD / EUR

---

**2. Авторизація**
- Підключення сторонніх логінів:
  - Google
  - Apple
  - Facebook
- Кнопки для прив’язки/відв’язки
---

**3. Сповіщення**
- Telegram інтеграція:
  - Підключити Telegram-бота
  - Частота звітів: щодня / щотижня
  - Типи повідомлень: перегляди сторінок віддачі клієнтами, завантаження файлів/фото/відео клієнтами, дедлайни, нові проєкти

---

**4. Календар**
- Синхронізація з Google Calendar, iCalendar
- Вибір календаря
- Опція двосторонньої синхронізації (toggle)
- Часовий пояс

---

**5. Галереї / Віддача**
- Вибір шаблону публічної сторінки клієнта (select)
- Завантаження логотипу
- Додати посилання (сайт, Instagram, Facebook)

---

**6. Сховище**
- Відображення використаного простору (наприклад, 14.2 GB з 100 GB)
- Progress bar
- Upgrade storage (тільки посилання або кнопка на сторінку тарифу)

---

**7. Підписка**
- Назва тарифу (Free / Promo / Basic / Pro)
- Статус підписки
- Дата допоки дійсна підписка 
- Обсяг сховища
- Платіжний метод: LiqPay / monopay / Stripe

---

**8. Системні налаштування**
- Дефолтний дедлайн: у днях або місяцях
- Дефолтний тип події при створенні бронювання
- Автозаповнення з Price List: toggle (увімкнено / вимкнено)

---

**UI/UX вимоги:**
- Tabler UI компоненти: Tabs, Forms, Inputs, Toggles
